from openai import OpenAI
import httpx
from time import sleep
import base64

def encode_image(image_path):
    with open(image_path, "rb") as image_file:
        return base64.b64encode(image_file.read()).decode('utf-8')

client4 = OpenAI(
    base_url="https://xiaoai.plus/v1",
    api_key="sk-97A50hasR28rziaSC3A5DcE5C1Eb4bD18c896c3824E72cE5",
    http_client=httpx.Client( base_url="https://xiaoai.plus/v1", follow_redirects=True,),
)

client35 = OpenAI(
    base_url="https://api.xiaoai.plus/v1",
    api_key="sk-P6uBWvhkuzLzmALbF754C26003C941E287F437B16c49E9Ed",
    http_client=httpx.Client( base_url="https://api.xiaoai.plus/v1", follow_redirects=True,),
)

clientDS = OpenAI(
    api_key="sk-90d78271083243e18799cee96c412218",
    base_url="https://api.deepseek.com",
    http_client=httpx.Client(base_url="https://api.deepseek.com", follow_redirects=True, ),
)

set_prompt_identify = "# 你是什么模型？"
set_prompt = '''# 你多少钱一个月'''


Forker_prompt = '''
# You are a text Question-Answer agent. Given a claim to answer and a collection of potentially useful context about the claim.
# The format of each piece of context: {"idx":[context index], "paragraph_text":[content of the context]}
# This is a yes/no question. Your task is to analyze these pieces of contexts, and answer [yes] or [no].
# Think step by step with evidence and explanation.
# Generate both answer and step-by-step-reasoning-with-evidence-and-explanation 

# Input
# Question: Are both Cypress and Ajuga genera?
# Context: {"idx": 0, "title": "Cypress", "paragraph_text": "Cypress is a conifer tree or shrub of northern temperate regions that belongs to the family Cupressaceae. The word \"cypress\" is derived from Old French \"cipres\", which was imported from Latin \"cypressus\", the latinisation of the Greek \u03ba\u03c5\u03c0\u03ac\u03c1\u03b9\u03c3\u03c3\u03bf\u03c2 (\"kyparissos\")."}, {"idx": 2, "title": "Ajuga", "paragraph_text": "Ajuga , also known as bugleweed, ground pine, carpet bugle, or just bugle, is a genus of 40 species annual and perennial herbaceous flowering plantsin the mint family Lamiaceae, with most species native to Europe, Asia, and Africa, but also two species in southeastern Australia. They grow to 5\u201350 cm tall, with opposite leaves."}, {"idx": 5, "title": "Ajugeae", "paragraph_text": "Ajugeae is a tribe of the Teucrioideae subfamily of the family Lamiaceae and might contain the genera \"Acrymia\" , \"Ajuga\" , \"Cymaria\" , \"Garrettia\" , \"Holocheila\" ."}

# Please adhere strictly to the following response format.
# In Answer:The answer can only be [yes] or [no]. 
# And then you should write your Evidence and explanation and Step by step with evidence and explanation to show how you come out the answer.

# The format of your response is:   
# Answer: [Your Answer]
# Evidence and explanation: [Evidence and explanation used in your think.]
# Step by step with evidence and explanation: [Step by step with evidence and explanation].

For example:
Answer: Yes
Evidence and explanation: The contexts provided indicate that both Local H and For Against are associated with the United States.
Step by step with evidence and explanation:1. The claim asks if Local H and For Against are both from the United States.2. Context index 5 mentions Local H alongside several American names and the location Zion, Illinois, which is in the United States, dating back to 1987.3. Context index 6 mentions a location in the United States, Lincoln, Nebraska, dated 1984, which is associated with For Against.4. Since both contexts link Local H and For Against to locations within the United States, the answer to the claim is yes, they are both from the United States.

Example1:
Question: Are the Laleli Mosque and Esma Sultan Mansion located in the same neighborhood?
Context:{'idx': 3, 'paragraph_text': 'The Laleli Mosque, Turkish, Laleli Camii, Tulip Mosque, 18th-century, Ottoman, Laleli, Fatih, Istanbul, Turkey'}, {'idx': 8, 'paragraph_text': 'The Esma Sultan Mansion, Turkish, Bosphorus in Ortaköy, Istanbul, Turkey, Esma Sultan, today'}, {'idx': 5, 'paragraph_text': 'Esma, Sultan, 21 March 1873, May 1899, Ottoman, Sultan Abdülaziz, Gevheri Kadın, Salih Bey Svatnba, Muslim'}
Answer: No
Evidence and explanation: The debut album "2014 S/S" is by the South Korean group WINNER, which was formed by YG Entertainment.
Step by step with evidence and explanation:1. The claim asks whether the Laleli Mosque and Esma Sultan Mansion are located in the same neighborhood. 2. Context index 3 states that the Laleli Mosque is located in the "Laleli, Fatih" area of Istanbul. 3. Context index 8 indicates that the Esma Sultan Mansion is located "in Ortaköy" in Istanbul. 4. Since "Fatih" and "Ortaköy" are different neighborhoods in Istanbul, the answer to the claim is that the Laleli Mosque and Esma Sultan Mansion are not located in the same neighborhood.
'''


set_prompt_ret = '''
# You are a retriever. Given a claim to answer and a collection of potentially useful context about the claim.
# The format of each piece of context: {"idx":[context index], "title":[context title], "paragraph_text":[content of the context]}
# Your task is to retrieve the 3 most relevant contexts related to the claim.
# Provide your reasoning process.

# Input
# Question: Aside from the Apple Remote, what other device can control the program Apple Remote was originally designed to interact with?
# Context: {"idx": 0, "title": "Siri Remote", "paragraph_text": "The Siri Remote is a remote control device released in tandem with the 4th Generation Apple TV at an Apple Keynote Address by CEO Tim Cook on October 26, 2015 by Apple Inc. The Remote is designed specifically to work with the always-on Siri capable Apple TV. The device is a successor of the original Apple Remote. It is also compatible with the Apple TV 4K."}, {"idx": 1, "title": "NetSupport Manager", "paragraph_text": "NetSupport Manager is a Windows-centric cross-platform remote control software, allowing remote screen control and systems management from a Windows or Windows Mobile device of Windows, Mac, Linux, Solaris and Mobile devices. It was first released for DOS only networks in 1989. It supports thumbnail display of unlimited remote systems (since version 10), and allows navigation between remote systems in a manner similar to a KVM switch. Functionality includes file transfers, chat, and hardware/software inventory including software updates. Fewer features are supported for Linux and Mac clients. In 2012 NetSupport introduced new software versions allowing Remote Control from iOS and Android tablets and smartphones as well as a new Mac OS Control. Version 12 was released in October 2013, which extended platform support to include ChromeOS clients. Mobile Remote Control from iOS and Android was also extended with additional capabilities. All versions of NetSupport Manager require the pre-installation of the software on both the local (Control) and remote (Client) computers/devices prior to use."}, {"idx": 2, "title": "Front Row (software)", "paragraph_text": "Front Row is a discontinued media center software application for Apple's Macintosh computers and Apple TV for navigating and viewing video, photos, podcasts, and music from a computer, optical disc, or the Internet through a 10-foot user interface (similar to Windows Media Center and Kodi). The software relies on iTunes and iPhoto and is controlled by an Apple Remote or the keyboard function keys. The first version was released October 2005, with two major revisions since. Front Row was removed and discontinued in Mac OS X 10.7."}, {"idx": 3, "title": "Apple Remote Desktop", "paragraph_text": "Apple Remote Desktop (ARD) is a Macintosh application produced by Apple Inc., first released on March 14, 2002, that replaced a similar product called \"Apple Network Assistant\". Aimed at computer administrators responsible for large numbers of computers and teachers who need to assist individuals or perform group demonstrations, Apple Remote Desktop allows users to remotely control or monitor other computers over a network."}, {"idx": 4, "title": "MacScan", "paragraph_text": "MacScan is an anti-malware utility for Apple's Mac OS X developed by SecureMac. It is aimed at removing malware (including spyware, Trojan horses, keystroke loggers, and tracking cookies). It was the first anti-spyware program released for Mac OS X. In addition, the application scans for remote administration programs, like Apple Remote Desktop, allowing users to verify that such programs are installed only with their authorization."}, {"idx": 5, "title": "Trainmaster Command Control", "paragraph_text": "Trainmaster Command (TMCC) is Lionel's electronic control system for O scale 3-rail model trains and toy trains that mainly ran from 1994 to 2006. Conceptually it is similar to Digital Command Control (DCC), the industry's open standard used by HO scale and other 2-rail DC trains. It has one advantage over DCC, in that TMCC-equipped locomotives can run simultaneously with non-TMCC locomotives and Lionel Legacy engines as well as LionChief and LionChief Plus equipped locomotives. The latter require a dedicated remote controller. MTH Corporation's DCS controller can be configured to control TMCC locomotives, and all four systems (TMCC, Legacy, LionChief/LionChief+ and DCS) can be operated on the same track simultaneously. Each simply requires a constant track voltage (18 volts). TMCC/Legacy \"broadcasts\" it's signal to the antenna on the locomotives which listen for signals that first identify the particular locomotive by number and then it issues given commands as to speed, direction, sounds, lighting and other features. DCS performs similar functions but transmits a carrier over the rails which are picked up through the locomotive's electrical pickup contacts. While TMCC/Legacy and DCS remote controls relay operator commands to a device that transmits them to the train (Command Base or Track Interface Unit), LionChief/LionChief+ also issue remote control commands but the remote and locomotive are married and each locomotive requires a separate remote control. This system requires no additional wiring as the control is directly \"narrowcast\" to the locomotive in the same way as a television remote control or garage door opener functions. In 2017, Lionel released a universal remote for LionChief+ that will learn addresses for up to three locos at a time, simplifying the operation of multiple trains."}, {"idx": 6, "title": "Apple Watch", "paragraph_text": "Apple Watch (stylized as \uf8ffWATCH) is a line of smartwatches developed, designed, and marketed by Apple Inc. It incorporates fitness tracking and health-oriented capabilities with integration with iOS and other Apple products and services. The original generation of the device was available in four variants: Apple Watch Sport, Apple Watch, Apple Watch Herm\u00e8s, and Apple Watch Edition; each distinguished by different combinations of cases and first- or third-party interchangeable bands. Apple Watch relies on a wirelessly connected iPhone to perform many of its default functions such as calling and texting. It is compatible with the iPhone 5 or later models running iOS 8.2 or later, through the use of Wi-Fi or Bluetooth. Announced by Apple CEO Tim Cook in September 2014, the device was released in April 24, 2015. The Apple Watch quickly became the best-selling wearable device with the supply of 4.2 million smartwatches in the second quarter of the 2015 fiscal year. The second generation of Apple Watch, released in September 2016, includes two tiers: Apple Watch Series 2 and Apple Watch Series 1, which includes the S1P chip, but is otherwise identical to the original. The Series 3 was announced at a presentation at Apple Park on September 12, 2017 and was released on September 22, 2017."}, {"idx": 7, "title": "Universal remote", "paragraph_text": "A universal remote is a remote control that can be programmed to operate various brands of one or more types of consumer electronics devices. Low-end universal remotes can only control a set number of devices determined by their manufacturer, while mid- and high-end universal remotes allow the user to program in new control codes to the remote. Many remotes sold with various electronic include universal remote capabilities for other types of devices, which allow the remote to control other devices beyond the device it came with. For example, a VCR remote may be programmed to operate various brands of televisions."}, {"idx": 8, "title": "Remote control", "paragraph_text": "In electronics, a remote control is a component of an electronic device used to operate the device wirelessly from a distance. For example, in consumer electronics, a remote control can be used to operate devices such as a television set, DVD player, or other home appliance, from a short distance. A remote control is primarily a convenience feature for the user, and can allow operation of devices that are out of convenient reach for direct operation of controls. In some cases, remote controls allow a person to operate a device that they otherwise would not be able to reach, as when a garage door opener is triggered from outside or when a Digital Light Processing projector that is mounted on a high ceiling is controlled by a person from the floor level."}, {"idx": 9, "title": "Apple Remote", "paragraph_text": "The Apple Remote is a remote control device released in or after October 2005 by Apple Inc. for use with a number of its products which use infrared capabilities. The device was originally designed to interact with the Front Row media program on the iSight iMac G5 and is compatible with some later desktop and portable Macintosh computers. The first three generations of Apple TV used the Apple Remote as their primary control mechanism. It has now been replaced with the Siri Remote in the fourth generation. Prior to the Apple Remote, Apple produced several nameless IR remotes for products such as the Macintosh TV, TV tuner expansion boards, and the PowerCD drive."}

the releted documents are idx 0， idx 2， idx 3. tell me why.
'''

CoT_prompt_ans = '''
# You are a text Question-Answer agent. Given a question to answer and a collection of potentially useful context about the question.
# Your task is to analyse the contexts and answer the question.
#  Think step by step to come out the answer.

# Input:
Question: Are both Cypress and Ajuga genera?
Context: {"idx": 0, "title": "Cypress", "paragraph_text": "Cypress is a conifer tree or shrub of northern temperate regions that belongs to the family Cupressaceae. The word \"cypress\" is derived from Old French \"cipres\", which was imported from Latin \"cypressus\", the latinisation of the Greek \u03ba\u03c5\u03c0\u03ac\u03c1\u03b9\u03c3\u03c3\u03bf\u03c2 (\"kyparissos\")."}, {"idx": 1, "title": "Cupressus", "paragraph_text": "The genus Cupressus is one of several genera within the family Cupressaceae that have the common name cypress; for the others, see cypress. It is considered a polyphyletic group. Based on genetic and morphological analysis, the \"Cupressus\" genus is found in the Cupressoideae subfamily. The common name comes from Old French \"cipres\" and that from Latin \"cyparissus\", which is the latinisation of the Greek \u03ba\u03c5\u03c0\u03ac\u03c1\u03b9\u03c3\u03c3\u03bf\u03c2 (\"kyp\u00e1rissos\")."}, {"idx": 2, "title": "Ajuga", "paragraph_text": "Ajuga , also known as bugleweed, ground pine, carpet bugle, or just bugle, is a genus of 40 species annual and perennial herbaceous flowering plantsin the mint family Lamiaceae, with most species native to Europe, Asia, and Africa, but also two species in southeastern Australia. They grow to 5\u201350 cm tall, with opposite leaves."}, {"idx": 3, "title": "Frenchman Formation", "paragraph_text": "The Frenchman Formation is stratigraphic unit of Late Cretaceous (late Maastrichtian) age in the Western Canada Sedimentary Basin. It is present in southern Saskatchewan and the Cypress Hills of southeastern Alberta. The formation was defined by G.M. Furnival in 1942 from observations of outcrops along the Frenchman River, between Ravenscrag and Highway 37. It contains the youngest of dinosaur genera, much like the Hell Creek Formation in the United States."}, {"idx": 4, "title": "Pilgerodendron", "paragraph_text": "Pilgerodendron is a genus of conifer belonging to the cypress family Cupressaceae. It has only one species, Pilgerodendron uviferum, and is endemic to the Valdivian temperate rain forests and Magellanic subpolar forests of southern Chile and southwestern Argentina. It grows from 40 to 55\u00b0S in Tierra del Fuego, where it is the southernmost conifer in the world. It is a member of subfamily Callitroideae, a group of distinct southern hemisphere genera associated with the Antarctic flora."}, {"idx": 5, "title": "Ajugeae", "paragraph_text": "Ajugeae is a tribe of the Teucrioideae subfamily of the family Lamiaceae and might contain the genera \"Acrymia\" , \"Ajuga\" , \"Cymaria\" , \"Garrettia\" , \"Holocheila\" ."}, {"idx": 6, "title": "Cedrol", "paragraph_text": "Cedrol is a sesquiterpene alcohol found in the essential oil of conifers (cedar oil), especially in the genera \"Cupressus\" (cypress) and \"Juniperus\" (juniper). It has also been identified in \"Origanum onites\", a plant related to oregano. Its main uses are in the chemistry of aroma compounds. It makes up about 19% of cedarwood oil Texas and 15.8% of cedarwood oil Virginia."}, {"idx": 7, "title": "Libocedrus", "paragraph_text": "Libocedrus is a genus of five species of coniferous trees in the cypress family Cupressaceae, native to New Zealand and New Caledonia. The genus is closely related to the South American genera \"Pilgerodendron\" and \"Austrocedrus\", and the New Guinean genus \"Papuacedrus\", both of which are included within \"Libocedrus\" by some botanists. These genera are rather similar to the Northern Hemisphere genera \"Calocedrus\" and \"Thuja\": in earlier days, what is now \"Calocedrus\" was sometimes included in \"Libocedrus\". They are much less closely related, as recently confirmed (Gadek et al. 2000). The generic name means \"teardrop cedar\", apparently referring to drops of resin."}, {"idx": 8, "title": "Fokienia", "paragraph_text": "Fokienia is a genus of conifer tree belonging to the cypress family. In its characteristics, \"Fokienia\" is intermediate between the genera of \"Chamaecyparis\" and \"Calocedrus\". Genetically \"Fokienia\" is much closer to \"Chamaecyparis\", and not all researchers recognize \"Fokienia\" as a separate genus. The genus comprises only one living species, Fokienia hodginsii or Fujian cypress (; Vietnamese: \"P\u01a1mu\" ), and one fossil species (\"Fokienia ravenscragensis\")."}, {"idx": 9, "title": "Cypress-pine", "paragraph_text": "Cypress-pine is the common name used for three closely related genera of conifers in the cypress family Cupressaceae:"}
'''
'''
The answer is yes，tell me why
output your evidence, than out put your reasoning
'''

question_text = "Hayden is a singer-songwriter from Canada, but where does Buck-Tick hail from?"
context_text = '''
{"idx": 0, "title": "Siri Remote", "paragraph_text": "The Siri Remote is a remote control device released in tandem with the 4th Generation Apple TV at an Apple Keynote Address by CEO Tim Cook on October 26, 2015 by Apple Inc. The Remote is designed specifically to work with the always-on Siri capable Apple TV. The device is a successor of the original Apple Remote. It is also compatible with the Apple TV 4K."}, {"idx": 1, "title": "NetSupport Manager", "paragraph_text": "NetSupport Manager is a Windows-centric cross-platform remote control software, allowing remote screen control and systems management from a Windows or Windows Mobile device of Windows, Mac, Linux, Solaris and Mobile devices. It was first released for DOS only networks in 1989. It supports thumbnail display of unlimited remote systems (since version 10), and allows navigation between remote systems in a manner similar to a KVM switch. Functionality includes file transfers, chat, and hardware/software inventory including software updates. Fewer features are supported for Linux and Mac clients. In 2012 NetSupport introduced new software versions allowing Remote Control from iOS and Android tablets and smartphones as well as a new Mac OS Control. Version 12 was released in October 2013, which extended platform support to include ChromeOS clients. Mobile Remote Control from iOS and Android was also extended with additional capabilities. All versions of NetSupport Manager require the pre-installation of the software on both the local (Control) and remote (Client) computers/devices prior to use."}, {"idx": 2, "title": "Front Row (software)", "paragraph_text": "Front Row is a discontinued media center software application for Apple's Macintosh computers and Apple TV for navigating and viewing video, photos, podcasts, and music from a computer, optical disc, or the Internet through a 10-foot user interface (similar to Windows Media Center and Kodi). The software relies on iTunes and iPhoto and is controlled by an Apple Remote or the keyboard function keys. The first version was released October 2005, with two major revisions since. Front Row was removed and discontinued in Mac OS X 10.7."}, {"idx": 3, "title": "Apple Remote Desktop", "paragraph_text": "Apple Remote Desktop (ARD) is a Macintosh application produced by Apple Inc., first released on March 14, 2002, that replaced a similar product called \"Apple Network Assistant\". Aimed at computer administrators responsible for large numbers of computers and teachers who need to assist individuals or perform group demonstrations, Apple Remote Desktop allows users to remotely control or monitor other computers over a network."}, {"idx": 4, "title": "MacScan", "paragraph_text": "MacScan is an anti-malware utility for Apple's Mac OS X developed by SecureMac. It is aimed at removing malware (including spyware, Trojan horses, keystroke loggers, and tracking cookies). It was the first anti-spyware program released for Mac OS X. In addition, the application scans for remote administration programs, like Apple Remote Desktop, allowing users to verify that such programs are installed only with their authorization."}, {"idx": 5, "title": "Trainmaster Command Control", "paragraph_text": "Trainmaster Command (TMCC) is Lionel's electronic control system for O scale 3-rail model trains and toy trains that mainly ran from 1994 to 2006. Conceptually it is similar to Digital Command Control (DCC), the industry's open standard used by HO scale and other 2-rail DC trains. It has one advantage over DCC, in that TMCC-equipped locomotives can run simultaneously with non-TMCC locomotives and Lionel Legacy engines as well as LionChief and LionChief Plus equipped locomotives. The latter require a dedicated remote controller. MTH Corporation's DCS controller can be configured to control TMCC locomotives, and all four systems (TMCC, Legacy, LionChief/LionChief+ and DCS) can be operated on the same track simultaneously. Each simply requires a constant track voltage (18 volts). TMCC/Legacy \"broadcasts\" it's signal to the antenna on the locomotives which listen for signals that first identify the particular locomotive by number and then it issues given commands as to speed, direction, sounds, lighting and other features. DCS performs similar functions but transmits a carrier over the rails which are picked up through the locomotive's electrical pickup contacts. While TMCC/Legacy and DCS remote controls relay operator commands to a device that transmits them to the train (Command Base or Track Interface Unit), LionChief/LionChief+ also issue remote control commands but the remote and locomotive are married and each locomotive requires a separate remote control. This system requires no additional wiring as the control is directly \"narrowcast\" to the locomotive in the same way as a television remote control or garage door opener functions. In 2017, Lionel released a universal remote for LionChief+ that will learn addresses for up to three locos at a time, simplifying the operation of multiple trains."}, {"idx": 6, "title": "Apple Watch", "paragraph_text": "Apple Watch (stylized as \uf8ffWATCH) is a line of smartwatches developed, designed, and marketed by Apple Inc. It incorporates fitness tracking and health-oriented capabilities with integration with iOS and other Apple products and services. The original generation of the device was available in four variants: Apple Watch Sport, Apple Watch, Apple Watch Herm\u00e8s, and Apple Watch Edition; each distinguished by different combinations of cases and first- or third-party interchangeable bands. Apple Watch relies on a wirelessly connected iPhone to perform many of its default functions such as calling and texting. It is compatible with the iPhone 5 or later models running iOS 8.2 or later, through the use of Wi-Fi or Bluetooth. Announced by Apple CEO Tim Cook in September 2014, the device was released in April 24, 2015. The Apple Watch quickly became the best-selling wearable device with the supply of 4.2 million smartwatches in the second quarter of the 2015 fiscal year. The second generation of Apple Watch, released in September 2016, includes two tiers: Apple Watch Series 2 and Apple Watch Series 1, which includes the S1P chip, but is otherwise identical to the original. The Series 3 was announced at a presentation at Apple Park on September 12, 2017 and was released on September 22, 2017."}, {"idx": 7, "title": "Universal remote", "paragraph_text": "A universal remote is a remote control that can be programmed to operate various brands of one or more types of consumer electronics devices. Low-end universal remotes can only control a set number of devices determined by their manufacturer, while mid- and high-end universal remotes allow the user to program in new control codes to the remote. Many remotes sold with various electronic include universal remote capabilities for other types of devices, which allow the remote to control other devices beyond the device it came with. For example, a VCR remote may be programmed to operate various brands of televisions."}, {"idx": 8, "title": "Remote control", "paragraph_text": "In electronics, a remote control is a component of an electronic device used to operate the device wirelessly from a distance. For example, in consumer electronics, a remote control can be used to operate devices such as a television set, DVD player, or other home appliance, from a short distance. A remote control is primarily a convenience feature for the user, and can allow operation of devices that are out of convenient reach for direct operation of controls. In some cases, remote controls allow a person to operate a device that they otherwise would not be able to reach, as when a garage door opener is triggered from outside or when a Digital Light Processing projector that is mounted on a high ceiling is controlled by a person from the floor level."}, {"idx": 9, "title": "Apple Remote", "paragraph_text": "The Apple Remote is a remote control device released in or after October 2005 by Apple Inc. for use with a number of its products which use infrared capabilities. The device was originally designed to interact with the Front Row media program on the iSight iMac G5 and is compatible with some later desktop and portable Macintosh computers. The first three generations of Apple TV used the Apple Remote as their primary control mechanism. It has now been replaced with the Siri Remote in the fourth generation. Prior to the Apple Remote, Apple produced several nameless IR remotes for products such as the Macintosh TV, TV tuner expansion boards, and the PowerCD drive."}
'''
prompt_text = CoT_prompt_ans

'''[gpt-3.5-turbo-16k, deepseek-chat, gpt-4o-mini]'''

image_path = "./bird.png"

base64_image = encode_image(image_path)
try:
    completion = client4.chat.completions.create(
        model="gpt-4o-mini",
        messages=[
            {
                "role": "user",
                "content": [
                    {"type": "text", "text": "Provide a detailed caption of the input image."},
                    {
                        "type": "image_url",
                        "image_url": {
                            "url": f"data:image/jpeg;base64,{base64_image}",
                        }
                    },
                ],
            }
        ],
        temperature=0,
        max_tokens=1000,
        top_p=1,
        frequency_penalty=0,
        presence_penalty=0,
    )
    response = completion.choices[0].message.content.strip()
    print(f"RESPONSE:\n" + response)
    resp_text_list = response.split("\n")
    filtered_list = [element for element in resp_text_list if element.strip()]

except Exception as e:
    print(e)
    sleep(1)


